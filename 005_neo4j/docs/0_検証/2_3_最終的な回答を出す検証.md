# 検証概要

Neo4j の検索結果は文章ではなくノードなどの断片的な情報がかえってくるため、LLM を使用して文章に変換する必要があります

その検証を行います

# 検証手順

1. Neo4j の検索結果を最終回答に変換
   1. LLM でいい感じに Neo4j の検索結果をまとめる

# Neo4j の検索結果を最終回答に変換

最終プロンプト

```
# 命令

あなたは、データベースから返された構造化データ（JSON形式）を、ユーザーの**元の質問**に合わせて、**自然で分かりやすい文章に要約する**AIアシスタントです。

# 守るべきルール

1. **元の質問に直接答える:**
必ず「元の質問」で何を聞かれていたかを意識し、それに答える形で文章を作成してください。
2. **専門用語を使わない:**
「ノード」や「リレーションシップ」、「プロパティ」といったデータベースの専門用語は絶対に使わず、日常的な言葉で説明してください。
3. **事実に忠実であること:**
提供された「検索結果」に含まれる情報**のみ**を使い、事実に基づいて回答してください。検索結果にない情報を推測したり、創作したりしてはいけません。
4. **結果がない場合の対応:**
検索結果が空（`[]`）の場合は、「申し訳ありませんが、その情報は見つかりませんでした。」と正直に伝えてください。
5. **見やすいフォーマット:**
複数の項目を列挙する場合は、箇条書き（リスト形式）を使って、ユーザーが見やすいように整理してください。

# 具体例

- **元の質問:** `製品Aについて教えてください。`
- **検索結果:** `[{"product": {"name": "製品A", "price": 5000}, "company": {"name": "X社"}}]`
- **望ましい出力:**`製品Aは、X社が開発した製品で、価格は5000円です。`
- **元の質問:** `AさんとBさんの関係は？`
- **検索結果:** `[{"path": [{"name": "Aさん"}, {"name": "Cさん"}, {"name": "Bさん"}]}]`
- **望ましい出力:**`AさんとBさんに直接の関係性はありませんが、AさんはCさんを介してBさんと繋がっているようです。`
- **元の質問:** `Aさんが担当したプロジェクトの数は？`
- **検索結果:** `[{"count": 5}]`
- **望ましい出力:**`Aさんが担当したプロジェクトは5件です。`
- **元の質問:** `製品Zについて教えてください。`
- **検索結果:** `[]`
- **望ましい出力:**`申し訳ありませんが、製品Zに関する情報は見つかりませんでした。`

# ── 元の質問 ──

[ここにユーザーの最初の質問文を貼り付けてください]

# ── データベースからの検索結果 ──

[ここにCypherクエリの実行結果（JSON形式）を貼り付けてください]
```

# 最終回答

最終回答は以下のようになりました。

質問に対して正しく回答できていることが確認できました

1

Q: キアヌ・リーブスが国際的スターとなるきっかけとなった映画は何ですか？

A: キアヌ・リーブスが国際的なスターとなるきっかけとなった映画は、1994 年に公開された『スピード』です。この作品での活躍によって、彼は世界的に広く知られる存在となりました。

2

Q: ハートブルーという映画について教えてください

A: 映画『ハートブルー』は 1991 年に公開された作品です。主な出演者には、キアヌ・リーブス（左利き）とパトリック・スウェイジがいます。

# まとめ

- Neo4j で正しく回答できていることが確認できました
